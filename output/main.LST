"File: main.c        Assembler  Version HGASM0202      Page 1


   1  0000              ; Generated by holtek-gcc v3.19, Thu May 23 14:41:49 2024
   2  0000              ; 
   3  0000              ; Configuration:
   4  0000              ;       with long instruction
   5  0000              ;       Single ROM, Multi-RAM
   6  0000              ;       bits_per_rom_unit:16
   7  0000              ;       with mp1
   8  0000              ;       with tbhp, address(0x9)
   9  0000              ;          Use tabrd-const
  10  0000              ;       
  11  0000              ; SFR address of long-instruction arch:
  12  0000              ;    mp0 = -1,1,0
  13  0000              ;    mp1 = 4,3,2
  14  0000              ;    mp2 = 14,13,12
  15  0000              ;    tbp = 9,7,8
  16  0000              ;    acc = 5
  17  0000              ;    pcl = 6
  18  0000              ;    status = 10
  19  0000              ;    bp = 11
  20  0000              ;    intc = 16
  21  0000              ;       
  22  0000              ;       
  23  0000              ; use 'tabrdc' instead of 'tabrd'
  24  0000              ;       
  25  0000              
  26  0000              #pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
  27  0000              ; Rebuild 718
  28  0000              
  29  0000              ir equ [2]
  30  0000              mp equ [3]
  31  0000              sbp equ [4]
  32  0000              acc equ [5]
  33  0000              bp equ [11]
  34  0000              tblp equ [7]
  35  0000              tbhp equ [9]
  36  0000              status equ [10]
  37  0000              c equ [10].0
  38  0000              ac equ [10].1
  39  0000              z equ [10].2
  40  0000              ov equ [10].3
  41  0000              cz equ [10].6
  42  0000              sc equ [10].7
  43  0000              intc equ [16]
  44  0000              
  45  0000              extern ra:byte
  46  0000              extern rb:byte
  47  0000              extern rc:byte
  48  0000              extern rd:byte
  49  0000              extern re:byte
  50  0000              extern rf:byte
  51  0000              extern rg:byte
  52  0000              extern rh:byte
  53  0000              extern _Crom2Prom:near
  54  0000              extern _Crom2PromNext:near
  55  0000              
  56  0000              RAMBANK 0 @BITDATASEC, @BITDATASEC1
  57  0000              @HCCINIT	.section 'data'
  58  0000              @HCCINIT0	.section 'data'
  59  0000              @BITDATASEC	 .section 'data'
"File: main.ASM      Assembler  Version HGASM0202      Page 2

  60  0000              @BITDATASEC1	 .section 'data'
  61  0000              
  62  0000              #pragma debug scope 1 1
  63  0000              	extern __DELAY3:near
  64  0000              	extern __DELAYX3:near
  65  0000              	extern __DELAYX6:near
  66  0000              	extern __DELAYY5:near
  67  0000              	extern __DELAYY3:near
  68  0000              	extern _builtin_holtek_delay_2:byte
  69  0000              ___wdtc equ [34]
  70  0000              public _Watchdog_config
  71  0000              #pragma debug scope 2 1

  15  0000              #line 15 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  15  0000              _Watchdog_config .section 'code'
  15  0000              _Watchdog_config proc
  15  0000  00              local _Watchdog_config_2 db 1 dup(?)	; 0,1
  15  0000  0080     E  	mov ra,a
  15  0001              #pragma debug variable 8 2 _Watchdog_config_2+0 "on"
  16  0001              #line 16 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  16  0001  1E00     E  	snz ra
  16  0002  2800     R  	jmp _L2
  17  0003              #line 17 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  17  0003  0F57        	mov a,87
  17  0004  00A2        	mov [34],a
  17  0005  2800     R  	jmp _L1
  17  0006              _L2:
  20  0006              #line 20 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  20  0006  0FAF        	mov a,175
  20  0007  00A2        	mov [34],a
  20  0008              _L1:
  20  0008  0003        	ret
  20  0009              _Watchdog_config endp
  20  0009              #line 20 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  20  0009              #pragma debug scope 1 1
  20  0009              ___pwrc equ [38]
  20  0009              ___pac equ [21]
  20  0009              ___papu equ [22]
  20  0009              ___pawu equ [23]
  20  0009              ___pbc equ [25]
  20  0009              ___pb equ [24]
  20  0009              public _GPIO_config
  20  0009              #pragma debug scope 3 1
  24  0009              #line 24 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  24  0000              _GPIO_config .section 'code'
  24  0000              _GPIO_config proc
  25  0000              #line 25 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  25  0000  37A6        	clr [38].7
  26  0001              #line 26 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  26  0001  1F95        	set [21]
  27  0002              #line 27 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  27  0002  1F96        	set [22]
  28  0003              #line 28 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  28  0003  1F97        	set [23]
  29  0004              #line 29 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  29  0004  1F19        	clr [25]
  30  0005              #line 30 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  30  0005  1F18        	clr [24]
  30  0006  0003        	ret
  30  0007              _GPIO_config endp
"File: main.c        Assembler  Version HGASM0202      Page 3

  30  0007              #line 30 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  30  0007              #pragma debug scope 1 1
  30  0007              public _LED_on_off
  30  0007              #pragma debug scope 4 1
  33  0007              #line 33 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  33  0000              _LED_on_off .section 'code'
  33  0000              _LED_on_off proc
  33  0000  00              local _LED_on_off_2 db 1 dup(?)	; 0,1
  33  0000  0080     E  	mov ra,a
  33  0001              #pragma debug variable 8 4 _LED_on_off_2+0 "leds"
  35  0001              #line 35 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  35  0001  0700     E  	mov a,ra
  35  0002  0E0F        	and a,15
  35  0003  0098        	mov [24],a
  35  0004  0003        	ret
  35  0005              _LED_on_off endp
  35  0005              #line 35 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  35  0005              #pragma debug scope 1 1
  35  0005              ___scc equ [28]
  35  0005              public _EnterDeepSleep
  35  0005              #pragma debug scope 5 1
  38  0005              #line 38 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  38  0000              _EnterDeepSleep .section 'code'
  38  0000              _EnterDeepSleep proc
  39  0000              #line 39 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  39  0000  301C        	set [28].0
  40  0001              #line 40 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  40  0001  3026        	set [38].0
  41  0002              #line 41 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  41  0002              ;# 41 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c" 1
  41  0002  0002        	halt
  41  0003  0003        	ret
  41  0004              _EnterDeepSleep endp
  41  0004              #line 41 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  41  0004              #pragma debug scope 1 1
  41  0004              ___tb0c equ [48]
  41  0004              ___intc0 equ [16]
  41  0004              public _init_timebase
  41  0004              #pragma debug scope 6 1
  68  0004              #line 68 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  68  0000              _init_timebase .section 'code'
  68  0000              _init_timebase proc
  69  0000              #line 69 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  69  0000  0FF7        	mov a,247
  69  0001  00B0        	mov [48],a
  73  0002              #line 73 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  73  0002  3010        	set [16].0
  74  0003              #line 74 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  74  0003  3710        	clr [16].6
  75  0004              #line 75 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  75  0004  3190        	set [16].3
  75  0005  0003        	ret
  75  0006              _init_timebase endp
  75  0006              #line 75 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  75  0006              #pragma debug scope 1 1
  75  0006              public _main
  75  0006              #pragma debug scope 7 1
  45  0006              #line 45 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  45  0006              IFDEF WITH_DEFAULT_STARTUP
  45  0006              extern _main_initial0:near
"File: main.c        Assembler  Version HGASM0202      Page 4

  45  0006              extern _main_startup:near
  45  0006              ENDIF
  45  0006              
  45  0006              ROMBANK 0 @start
  45  0000              @start .section com_l 'code'
  45  0000              _main_startup1:
  45  0000              @start .section com_e 'code'
  45  0000  2800     R  	jmp _main
  45  0001              
  45  0000              _main .section 'code'
  45  0000              _main proc
  45  0000              #pragma debug scope 8 7
  45  0000              ;begin block, line: 45.-1
  45  0000              #pragma debug scope 9 8
  45  0000              ;begin block, line: 45.-1
  20  0000              #line 20 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  20  0000  0FAF        	mov a,175
  20  0001  00A2        	mov [34],a
  20  0002              #pragma debug scope 8 7
  20  0002              #pragma debug scope 7 1
  47  0002              #line 47 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  47  0002  2000     R  	call _GPIO_config
  50  0003              #line 50 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  50  0003  2000     R  	call _init_timebase
  52  0004              #line 52 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  52  0004  0726        	mov a,[38]
  52  0005  0080     E  	mov ra,a
  54  0006              #line 54 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  54  0006  2000     R  	call _EnterDeepSleep
  54  0007              _L10:
  54  0007  2800     R  	jmp _L10
  54  0008  2800     R  	jmp $
  54  0009              _main endp
  54  0009              
  54  0009              @dummy endp
  54  0009              
  54  0009              #line 54 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  54  0009              #pragma debug scope 1 1
  54  0009              public _timebase0
  54  0009              #pragma debug scope 10 1
  80  0009              #line 80 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  80  0000              @timebase0_code .section at 12 'code'
  80  0000              _timebase0:
  80  0000              ifdef INTERRUPT_DELAY
  80  0000              	nop
  80  0000              endif
  80  0000  0004        	reti
  80  0001              #line 80 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  80  0001              #pragma debug scope 1 1
  80  0001              public _flag
  80  0000              @HCCINIT	.section 'data'
  11  0000              #line 11 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  11  0000              @HCCINIT_flag .section 'data'
  11  0000              _flag label byte
  11  0000              #pragma debug variable 12 1 _flag "flag"
  11  0000              	db 0
  11  0000              @ROMDATA_BASE .section inpage 'code'
  11  0000              	db 0
  11  0001              @HCCINIT_flag .section 'data'
  11  0001              	db 0
"File: main.c        Assembler  Version HGASM0202      Page 5

  11  0001              @ROMDATA_BASE .section inpage 'code'
  11  0001              	db 0
  11  0002              @HCCINIT_flag .section 'data'
  11  0002              public _timer_counter
  10  0002              #line 10 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  10  0000              @HCCINIT_timer_counter .section 'data'
  10  0000              _timer_counter label byte
  10  0000              #pragma debug variable 12 1 _timer_counter "timer_counter"
  10  0000              	db 0
  10  0001              @ROMDATA_BASE .section inpage 'code'
  10  0001              	db 0
  10  0001              @HCCINIT_timer_counter .section 'data'
  10  0001              	db 0
  10  0002              @ROMDATA_BASE .section inpage 'code'
  10  0002              	db 0
  10  0002              @HCCINIT_timer_counter .section 'data'
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug variable 43 1 ___intc0 "__intc0" 1
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug variable 45 1 ___pac "__pac" 1
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug variable 47 1 ___papu "__papu" 1
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug variable 49 1 ___pawu "__pawu" 1
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug variable 51 1 ___pb "__pb" 1
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug variable 53 1 ___pbc "__pbc" 1
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug variable 55 1 ___scc "__scc" 1
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug variable 57 1 ___wdtc "__wdtc" 1
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug union_end
"File: main.c        Assembler  Version HGASM0202      Page 6

  10  0002              #pragma debug variable 59 1 ___pwrc "__pwrc" 1
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug struct_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug union_end
  10  0002              #pragma debug variable 61 1 ___tb0c "__tb0c" 1
  45  0002              #line 45 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\main.c"
  45  0000              @code .section at 0 'code'
  45  0000  2800     R  	jmp _main_startup1
  45  0001              
  45  0001              
  45  0001              ; 
  45  0001              ; Generated by holtek-gcc v3.19, Thu May 23 14:41:49 2024
  45  0001              ; Rebuild 718
  45  0001              ; end of file


        0 Errors, 0