; Generated by holtek-gcc v3.19, Thu May 23 14:41:52 2024
; 
; Configuration:
;       with long instruction
;       Single ROM, Multi-RAM
;       bits_per_rom_unit:16
;       with mp1
;       with tbhp, address(0x9)
;          Use tabrd-const
;       
; SFR address of long-instruction arch:
;    mp0 = -1,1,0
;    mp1 = 4,3,2
;    mp2 = 14,13,12
;    tbp = 9,7,8
;    acc = 5
;    pcl = 6
;    status = 10
;    bp = 11
;    intc = 16
;       
;       
; use 'tabrdc' instead of 'tabrd'
;       

#pragma translator "holtek-gcc 4.6.4" "3.19" "build 20130711"
; Rebuild 718

ir equ [2]
mp equ [3]
sbp equ [4]
acc equ [5]
bp equ [11]
tblp equ [7]
tbhp equ [9]
status equ [10]
c equ [10].0
ac equ [10].1
z equ [10].2
ov equ [10].3
cz equ [10].6
sc equ [10].7
intc equ [16]

extern ra:byte
extern rb:byte
extern rc:byte
extern rd:byte
extern re:byte
extern rf:byte
extern rg:byte
extern rh:byte
extern _Crom2Prom:near
extern _Crom2PromNext:near

RAMBANK 0 @BITDATASEC, @BITDATASEC1
@HCCINIT	.section 'data'
@HCCINIT0	.section 'data'
@BITDATASEC	 .section 'data'
@BITDATASEC1	 .section 'data'

#pragma debug scope 1 1
public _SIGFOX_CRC_compute_crc16
#pragma debug scope 2 1
#line 50 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\middleware\sigfox-ep-lib\src\core\sigfox_crc.c"
_SIGFOX_CRC_compute_crc16 .section 'code'
_SIGFOX_CRC_compute_crc16 proc
public _SIGFOX_CRC_compute_crc16_2
    local _SIGFOX_CRC_compute_crc16_2 db 7 dup(?)	; 7,0
#pragma debug pointer 42 8 2
#pragma debug variable 42 2 _SIGFOX_CRC_compute_crc16_2+0 "crc_data"
#pragma debug variable 8 2 _SIGFOX_CRC_compute_crc16_2+2 "data_size"
#pragma debug variable 10 2 _SIGFOX_CRC_compute_crc16_2+3 "polynom"
#pragma debug pointer 43 12 2
#pragma debug variable 43 2 _SIGFOX_CRC_compute_crc16_2+5 "crc"
#line 63 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\middleware\sigfox-ep-lib\src\core\sigfox_crc.c"
	mov a,_SIGFOX_CRC_compute_crc16_2[5]
	mov mp,a
	mov a,_SIGFOX_CRC_compute_crc16_2[6]
	mov sbp,a
	clr ir
	inc mp
	clr ir
#line 64 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\middleware\sigfox-ep-lib\src\core\sigfox_crc.c"
	clr ra
	jmp _L2
_L7:
#line 65 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\middleware\sigfox-ep-lib\src\core\sigfox_crc.c"
	mov a,_SIGFOX_CRC_compute_crc16_2[5]
	mov rd,a
	mov a,_SIGFOX_CRC_compute_crc16_2[6]
	mov re,a
	mov a,ra
	add a,_SIGFOX_CRC_compute_crc16_2[0]
	mov mp,a
	clr acc
	adc a,_SIGFOX_CRC_compute_crc16_2[1]
	mov sbp,a
	call _Crom2Prom
	mov rg,a
	clr rf
	mov a,rd
	mov mp,a
	mov a,re
	mov sbp,a
	call _Crom2Prom
	mov rb,a
	call _Crom2PromNext
	mov rc,a
	mov a,rg
	xorm a,rc
	mov a,rf
	xorm a,rb
	mov a,rd
	mov mp,a
	mov a,re
	mov sbp,a
	mov a,rb
	mov ir,a
	inc mp
	mov a,rc
	mov ir,a
	mov a,8
	mov rh,a
_L6:
#line 67 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\middleware\sigfox-ep-lib\src\core\sigfox_crc.c"
	mov a,_SIGFOX_CRC_compute_crc16_2[5]
	mov rd,a
	mov a,_SIGFOX_CRC_compute_crc16_2[6]
	mov re,a
	mov a,rd
	mov mp,a
	mov a,re
	mov sbp,a
	call _Crom2Prom
	mov rb,a
	call _Crom2PromNext
	mov rc,a
	snz rc.7
	jmp _L3
#line 68 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\middleware\sigfox-ep-lib\src\core\sigfox_crc.c"
	clr c
	rlc rb
	rlc rc
	mov a,_SIGFOX_CRC_compute_crc16_2[4]
	xorm a,rc
	mov a,_SIGFOX_CRC_compute_crc16_2[3]
	xorm a,rb
	jmp _L8
_L3:
#line 71 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\middleware\sigfox-ep-lib\src\core\sigfox_crc.c"
	clr c
	rlc rb
	rlc rc
_L8:
	mov a,rd
	mov mp,a
	mov a,re
	mov sbp,a
	mov a,rb
	mov ir,a
	inc mp
	mov a,rc
	mov ir,a
	sdz rh
	jmp _L6
#line 64 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\middleware\sigfox-ep-lib\src\core\sigfox_crc.c"
	inc ra
_L2:
	mov a,ra
	sub a,_SIGFOX_CRC_compute_crc16_2[2]
	snz c
	jmp _L7
	ret
_SIGFOX_CRC_compute_crc16 endp
#line 64 "d:\sigfox-ep-example-holtek-bc68f2150-master-tb0\middleware\sigfox-ep-lib\src\core\sigfox_crc.c"
#pragma debug scope 1 1

; 
; Generated by holtek-gcc v3.19, Thu May 23 14:41:52 2024
; Rebuild 718
; end of file
